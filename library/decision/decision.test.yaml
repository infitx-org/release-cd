rules:
    transfer-approval:
        when: { type: transfer, amount: { min: 100, max: 1000 } }
        then: { expect: { approved: true, reason: approved } }
    transfer-rejection:
        when: { type: transfer, amount: { min: 1001 } }
        then: { expect: { approved: false, reason: limit } }
    withdrawal-approval:
        when: { type: withdrawal, amount: { max: 500 } }
        then: { expect: { approved: true, reason: small } }
    withdrawal-rejection:
        when: { type: withdrawal, amount: { min: 501 } }
        then: { expect: { approved: false, reason: large }, notification: true }
tests:
    - fact: { type: transfer, amount: 500 }
      expected:
          [
              {
                  approved: true,
                  reason: approved,
                  rule: transfer-approval,
                  decision: expect,
              },
          ]
    - fact: { type: transfer, amount: 1500 }
      expected:
          [
              {
                  approved: false,
                  reason: limit,
                  rule: transfer-rejection,
                  decision: expect,
              },
          ]
    - fact: { type: withdrawal, amount: 300 }
      expected:
          [
              {
                  approved: true,
                  reason: small,
                  rule: withdrawal-approval,
                  decision: expect,
              },
          ]
    - fact: { type: withdrawal, amount: 700 }
      expected:
          [
              {
                  approved: false,
                  reason: large,
                  rule: withdrawal-rejection,
                  decision: expect,
              },
              { rule: withdrawal-rejection, decision: notification },
          ]
